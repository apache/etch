// This file automatically generated by:
//   Etch Version 0.95/csharp backend 0.95
//   Thu Aug 16 12:08:25 CDT 2007

namespace cisco.etch.examples
{


using System;
using Etch.Msg;
using Etch.Transport;
using Etch.Support;


///
///<summary> Message to call translator for TwoWayClient. </summary>
///
public class StubTwoWayClient : StubTwoWay
{
	///
	/// <summary>Stub for TwoWayClient.</summary>
	/// <param name="obj"> the implementation of TwoWayClient responsive to requests.</param>
	/// <param name="pool"> thread pool used to run AsyncReceiverMode.POOL methods.</param>
	/// <param name="free"> thread pool used to run AsyncReceiverMode.FREE methods..</param>
	///
	public StubTwoWayClient( TwoWayClient obj, Pool pool, Pool free ) : base( obj, pool, free )
	{	
		this._obj = obj;
	}
	
	private TwoWayClient _obj;

	public override bool Message( MessageSource _src, Who _sender, Message _msg ) 
	{
		if (_msg == null)
		{
			base.Message( _src, _sender, _msg );
			return true;
		}

		switch (_msg.GetXType.Id)
		{
			case 1520112965: // ValueFactoryTwoWay._mt_cisco_etch_examples_TwoWayClient_sendServletMessage
				do_sendServletMessage( _src, _sender, _msg );
				return true;
			case -1120184867: // ValueFactoryTwoWay._mt_cisco_etch_examples_TwoWayClient_bogus
				do_bogus( _src, _sender, _msg );
				return true;
			default:
				return base.Message( _src, _sender, _msg );
		}
	}

	///
	/// <param name="_src"></param>
	/// <param name="_sender"></param>
	/// <param name="_msg"></param>
	/// Exception:
	///		throws Exception	
	///
	void do_sendServletMessage( MessageSource _src, Who _sender, Message _msg )
	{
		try
		{
			cisco.etch.examples.ConstsTwoWay.Selection selection =
				(cisco.etch.examples.ConstsTwoWay.Selection)
					_msg.Get( ValueFactoryTwoWay._mf_selection )
				;

			_obj.sendServletMessage(
				selection
			);

			Message _rmsg = _msg.Reply( ValueFactoryTwoWay._mt_cisco_etch_examples_TwoWayServer__result_sendServletMessage );
			_src.Message( _sender, _rmsg );
		}
		catch ( Exception e )
		{
			Message _rmsg = _msg.Reply( ValueFactoryTwoWay._mt_cisco_etch_examples_TwoWayServer__result_sendServletMessage );
			_rmsg.Add( ValueFactoryTwoWay._mf_result, e );
			_src.Message( _sender, _rmsg );
		}
	}

	///
	/// <param name="_src"></param>
	/// <param name="_sender"></param>
	/// <param name="_msg"></param>
	/// Exception:
	///		throws Exception	
	///
	void do_bogus( MessageSource _src, Who _sender, Message _msg )
	{
		try
		{

			_obj.bogus(
			);
		}
		catch ( Exception e )
		{
			Message _rmsg = _msg.Reply( ValueFactoryTwoWay._mt__exception );
			_rmsg.Add( ValueFactoryTwoWay._mf_result, e );
			_src.Message( _sender, _rmsg );
		}
	}
}

}